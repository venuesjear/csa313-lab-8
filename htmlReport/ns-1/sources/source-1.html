


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > Calendar</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">edu.sc.csce747.MeetingPlanner</a>
</div>

<h1>Coverage Summary for Class: Calendar (edu.sc.csce747.MeetingPlanner)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Calendar</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    77.8%
  </span>
  <span class="absValue">
    (7/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    63.5%
  </span>
  <span class="absValue">
    (33/52)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    82.8%
  </span>
  <span class="absValue">
    (53/64)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package edu.sc.csce747.MeetingPlanner;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;
&nbsp;public class Calendar {
&nbsp;	// Indexed by Month, Day
&nbsp;	private ArrayList&lt;ArrayList&lt;ArrayList&lt;Meeting&gt;&gt;&gt; occupied;
&nbsp;	
&nbsp;	/**
&nbsp;	 * Default constructor, builds a calendar and initializes each day
&nbsp;	 * to an empty list.
&nbsp;	 */
<b class="fc">&nbsp;	public Calendar(){</b>
&nbsp;		/** Create an empty calendar
&nbsp;		 * Order of access is month, day, meetingNumber
&nbsp;		 * We want to tie 1 to Janaury, 2 to February, etc, 
&nbsp;		 * so we will index 1-12 for months, 1-31 for days. 
&nbsp;		 * Times are indexed 0 - 23.
&nbsp;		 * Need to check bounds when adding a meeting.
&nbsp;		 */
<b class="fc">&nbsp;		occupied = new ArrayList&lt;ArrayList&lt;ArrayList&lt;Meeting&gt;&gt;&gt;();</b>
&nbsp;		
<b class="fc">&nbsp;		for(int i=0;i&lt;=13;i++){</b>
&nbsp;			// Initialize month
<b class="fc">&nbsp;			occupied.add(new ArrayList&lt;ArrayList&lt;Meeting&gt;&gt;());</b>
<b class="fc">&nbsp;			for(int j=0;j&lt;32;j++){</b>
&nbsp;				// Initialize days
<b class="fc">&nbsp;				occupied.get(i).add(new ArrayList&lt;Meeting&gt;());</b>
&nbsp;			}
&nbsp;		}
&nbsp;		
&nbsp;		/** Not every month should have 31 days. 
&nbsp;		 * We can deal with this in a hack-ish manner by 
&nbsp;		 * putting in all-day meetings for those dates.
&nbsp;		 */
<b class="fc">&nbsp;		occupied.get(2).get(29).add(new Meeting(2,29,&quot;Day does not exist&quot;));</b>
<b class="fc">&nbsp;		occupied.get(2).get(30).add(new Meeting(2,30,&quot;Day does not exist&quot;));</b>
<b class="fc">&nbsp;		occupied.get(2).get(31).add(new Meeting(2,31,&quot;Day does not exist&quot;));</b>
<b class="fc">&nbsp;		occupied.get(4).get(31).add(new Meeting(4,31,&quot;Day does not exist&quot;));</b>
<b class="fc">&nbsp;		occupied.get(6).get(31).add(new Meeting(6,31,&quot;Day does not exist&quot;));</b>
<b class="fc">&nbsp;		occupied.get(9).get(31).add(new Meeting(9,31,&quot;Day does not exist&quot;));</b>
<b class="fc">&nbsp;		occupied.get(11).get(30).add(new Meeting(11,31,&quot;Day does not exist&quot;));</b>
<b class="fc">&nbsp;		occupied.get(11).get(31).add(new Meeting(11,31,&quot;Day does not exist&quot;));</b>
&nbsp;	}
&nbsp;	
&nbsp;	/**
&nbsp;	 * Used to check whether a meeting is scheduled during a particular 
&nbsp;	 * time frame.
&nbsp;	 * @param month - The month of the meeting (1-12)
&nbsp;	 * @param day - The day of the meeting (1-31)
&nbsp;	 * @param start - The time the meeting starts (0-23)
&nbsp;	 * @param end - The time the meeting ends (0-23)
&nbsp;	 * @return boolean - Whether the calendar has an entry in that timeframe.
&nbsp;	 * @throws TimeConflictException If an invalid date or time is entered.
&nbsp;	 */
&nbsp;	public boolean isBusy(int month, int day, int start, int end) throws TimeConflictException{
<b class="fc">&nbsp;		boolean busy = false;</b>
&nbsp;		
<b class="fc">&nbsp;		checkTimes(month,day,start,end);</b>
&nbsp;		
<b class="fc">&nbsp;		for(Meeting toCheck : occupied.get(month).get(day)){</b>
<b class="pc">&nbsp;			if(start &gt;= toCheck.getStartTime() &amp;&amp; start &lt;= toCheck.getEndTime()){</b>
<b class="fc">&nbsp;				busy=true;</b>
<b class="nc">&nbsp;			}else if(end &gt;= toCheck.getStartTime() &amp;&amp; end &lt;= toCheck.getEndTime()){</b>
<b class="nc">&nbsp;				busy=true;</b>
&nbsp;			}
&nbsp;		}
<b class="fc">&nbsp;		return busy;</b>
&nbsp;	}
&nbsp;	
&nbsp;	/**
&nbsp;	 * Basic error checking on numbers.
&nbsp;	 * @param mMonth - The month of the meeting (1-12)
&nbsp;	 * @param mDay - The day of the meeting (1-31)
&nbsp;	 * @param mStart - The time the meeting starts (0-23)
&nbsp;	 * @param mEnd - The time the meeting ends (0-23)
&nbsp;	 * @throws TimeConflictException - If an invalid date or time is entered.
&nbsp;	 */
&nbsp;	public static void checkTimes(int mMonth,int mDay,int mStart, int mEnd) throws TimeConflictException{
&nbsp;		// Check for illegal dates
<b class="fc">&nbsp;		if(mDay&lt; 1 || mDay &gt; 31){</b>
<b class="fc">&nbsp;			throw new TimeConflictException(&quot;Day does not exist.&quot;);</b>
&nbsp;		}
&nbsp;
<b class="fc">&nbsp;		if(mMonth &lt; 1 || mMonth &gt;= 12){</b>
<b class="fc">&nbsp;			throw new TimeConflictException(&quot;Month does not exist.&quot;);</b>
&nbsp;		}
&nbsp;
&nbsp;		// Check for illegal times
<b class="pc">&nbsp;		if(mStart&lt; 0 || mStart &gt; 23){</b>
<b class="fc">&nbsp;			throw new TimeConflictException(&quot;Illegal hour.&quot;);</b>
&nbsp;		}
&nbsp;
<b class="pc">&nbsp;		if(mEnd &lt; 0 || mEnd &gt; 23){</b>
<b class="fc">&nbsp;			throw new TimeConflictException(&quot;Illegal hour.&quot;);</b>
&nbsp;		}
&nbsp;
<b class="fc">&nbsp;		if(mStart &gt;= mEnd){</b>
<b class="fc">&nbsp;			throw new TimeConflictException(&quot;Meeting starts before it ends.&quot;);</b>
&nbsp;		}
&nbsp;	}
&nbsp;	
&nbsp;	/**
&nbsp;	 * Used to add a meeting to a calendar
&nbsp;	 * @param toAdd - A Meeting object to add to the calendar
&nbsp;	 * @throws TimeConflictException - If an invalid date or time is entered.
&nbsp;	 */
&nbsp;	public void addMeeting(Meeting toAdd) throws TimeConflictException{
<b class="fc">&nbsp;		int mDay = toAdd.getDay();</b>
<b class="fc">&nbsp;		int mMonth = toAdd.getMonth();</b>
<b class="fc">&nbsp;		int mStart = toAdd.getStartTime();</b>
<b class="fc">&nbsp;		int mEnd = toAdd.getEndTime();</b>
&nbsp;		
<b class="fc">&nbsp;		checkTimes(mMonth,mDay,mStart,mEnd);</b>
&nbsp;
&nbsp;		
&nbsp;		// Check whether a meeting is already scheduled at this time.
<b class="fc">&nbsp;		ArrayList&lt;Meeting&gt; thatDay = occupied.get(mMonth).get(mDay);</b>
<b class="fc">&nbsp;		boolean booked = false;</b>
<b class="fc">&nbsp;		Meeting conflict = new Meeting();</b>
&nbsp;		
<b class="fc">&nbsp;		for(Meeting toCheck : thatDay){</b>
<b class="pc">&nbsp;			if(!toCheck.getDescription().equals(&quot;Day does not exist&quot;)){</b>
&nbsp;				// Does the start time fall between this meeting&#39;s start and end times?
<b class="pc">&nbsp;				if(mStart &gt;= toCheck.getStartTime() &amp;&amp; mStart &lt;= toCheck.getEndTime()){</b>
<b class="fc">&nbsp;					booked = true;</b>
<b class="fc">&nbsp;					conflict = toCheck;</b>
&nbsp;					// Does the end time fall between this meeting&#39;s start and end times?
<b class="nc">&nbsp;				}else if(mEnd &gt;= toCheck.getStartTime() &amp;&amp; mEnd &lt;= toCheck.getEndTime()){</b>
<b class="nc">&nbsp;					booked = true;</b>
<b class="nc">&nbsp;					conflict = toCheck;</b>
&nbsp;				}
&nbsp;			}
&nbsp;		}
&nbsp;		
<b class="fc">&nbsp;		if(booked){</b>
<b class="fc">&nbsp;			throw new TimeConflictException(&quot;Overlap with another item - &quot;+conflict.getDescription()</b>
<b class="fc">&nbsp;				+&quot; - scheduled from &quot;+conflict.getStartTime()+&quot; and &quot;+conflict.getEndTime());</b>
&nbsp;		}else{
<b class="fc">&nbsp;			occupied.get(mMonth).get(mDay).add(toAdd);</b>
&nbsp;		}
&nbsp;	}
&nbsp;	
&nbsp;	/**
&nbsp;	 * Clears all meetings for a day.
&nbsp;	 * @param month - The month of the meeting (1-12)
&nbsp;	 * @param day - The day of the meeting (1-31)
&nbsp;	 */
&nbsp;	public void clearSchedule(int month, int day){
<b class="fc">&nbsp;		occupied.get(month).set(day, new ArrayList&lt;Meeting&gt;());</b>
&nbsp;	}
&nbsp;	
&nbsp;	/**
&nbsp;	 * Used to print the calendar for a month in string form.
&nbsp;	 * @param month - The month of the meeting (1-12)
&nbsp;	 * @return String - The agenda as a formatted string.
&nbsp;	 */
&nbsp;	public String printAgenda(int month){
<b class="nc">&nbsp;		String agenda = &quot;Agenda for &quot;+month+&quot;:\n&quot;;</b>
<b class="nc">&nbsp;		for(ArrayList&lt;Meeting&gt; toPrint : occupied.get(month)){</b>
<b class="nc">&nbsp;			for(Meeting meeting: toPrint){</b>
<b class="nc">&nbsp;				agenda = agenda+meeting.toString()+&quot;\n&quot;;</b>
&nbsp;			}
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		return agenda;</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Used to print the calendar for a day in string form.
&nbsp;	 * @param month - The month of the meeting (1-12)
&nbsp;	 * @param day - The day of the meeting (1-31)
&nbsp;	 * @return String - The agenda as a formatted string.
&nbsp;	 */
&nbsp;	public String printAgenda(int month, int day){
<b class="fc">&nbsp;		String agenda = &quot;Agenda for &quot;+month+&quot;/&quot;+day+&quot;:\n&quot;;</b>
<b class="fc">&nbsp;		for(Meeting toPrint : occupied.get(month).get(day)){</b>
<b class="fc">&nbsp;			agenda = agenda+toPrint.toString()+&quot;\n&quot;;</b>
&nbsp;		}
&nbsp;		
<b class="fc">&nbsp;		return agenda;</b>
&nbsp;	}
&nbsp;	
&nbsp;	/**
&nbsp;	 * Retrieves a meeting from the calendar.
&nbsp;	 * @param month - The month of the meeting (1-12)
&nbsp;	 * @param day - The day of the meeting (1-31)
&nbsp;	 * @param index - The index in the list for the meeting
&nbsp;	 */
&nbsp;	public Meeting getMeeting(int month, int day, int index){
<b class="fc">&nbsp;		return occupied.get(month).get(day).get(index);</b>
&nbsp;	}
&nbsp;	
&nbsp;	/**
&nbsp;	 * Removes a meeting from the calendar.
&nbsp;	 * @param month - The month of the meeting (1-12)
&nbsp;	 * @param day - The day of the meeting (1-31)
&nbsp;	 * @param index - The index in the list for the meeting
&nbsp;	 */
&nbsp;	public void removeMeeting(int month, int day, int index){
<b class="nc">&nbsp;		occupied.get(month).get(day).remove(index);</b>
&nbsp;	}
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-10-30 09:43</div>
</div>
</body>
</html>
